<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2026-02-03">

<title>Introducing SigAlg: Measure-Theoretic Probability in Python – john myers, ph.d.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../img/fav.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-367851019e9ccd243b94edaf001a4bfd.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-4853ac07ca6a7896c17d72d590de6080.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VWK3RHBGT2"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-VWK3RHBGT2', { 'anonymize_ip': true});
</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
</script>
<script type="module">import "https://cdn.plot.ly/plotly-3.3.1.min"</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&amp;family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&amp;family=Nunito:ital,wght@0,200..1000;1,200..1000&amp;display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="Introducing SigAlg: Measure-Theoretic Probability in Python">
<meta property="og:description" content="">
<meta property="og:image" content="https://johnmyers-phd.com/posts/sigalg/sigalg-logo.png">
<meta property="og:site_name" content="john myers, ph.d.">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../writings.html"> 
<span class="menu-text">Writings</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teaching" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Teaching</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-teaching">    
        <li>
    <a class="dropdown-item" href="../../teaching/multi-calc-sp-26/multi-calc-sp-26.html">
 <span class="dropdown-text">Multivariable Calculus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../teaching/pde-sp-26/pde-sp-26.html">
 <span class="dropdown-text">Partial Differential Equations</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://www.johnmyers-phd.com/book" target="_blank"> 
<span class="menu-text">Probabilistic Machine Learning</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.johnmyers-phd.com/sigalg" target="_blank"> 
<span class="menu-text">SigAlg</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jmyers7/" target="_blank"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/john-myers-phd" target="_blank"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:jmmyers25@gmail.com"> <i class="bi bi-envelope-open-fill" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#generalities-on-stochastic-processes" id="toc-generalities-on-stochastic-processes" class="nav-link" data-scroll-target="#generalities-on-stochastic-processes">Generalities on stochastic processes</a></li>
  <li><a href="#independent-and-identically-distributed-processes" id="toc-independent-and-identically-distributed-processes" class="nav-link" data-scroll-target="#independent-and-identically-distributed-processes">Independent and identically distributed processes</a></li>
  <li><a href="#random-walks" id="toc-random-walks" class="nav-link" data-scroll-target="#random-walks">Random walks</a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">Bibliography</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introducing SigAlg: Measure-Theoretic Probability in Python</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Stochastic process</div>
    <div class="quarto-category">IID process</div>
    <div class="quarto-category">Random walk</div>
    <div class="quarto-category">Probability theory</div>
    <div class="quarto-category">Sigma algebras</div>
    <div class="quarto-category">Filtrations</div>
    <div class="quarto-category">Information theory</div>
    <div class="quarto-category">SigAlg</div>
    <div class="quarto-category">SciPy</div>
    <div class="quarto-category">Python</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 3, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>For the past four-ish months, I’ve been working on a Python library called SigAlg (named after a <em><span class="math inline">\(\sigma\)</span>-algebra</em>, duh), designed to provide mathematically faithful implementations of measure-theoretic probability. I’ve recently made early versions available on <a href="https://pypi.org/project/sigalg/" target="_blank">PyPI</a>, made the <a href="https://github.com/jmyers7/sigalg" target="_blank">GitHub repo</a> public, and put up a <a href="https://johnmyers-phd.com/sigalg/" target="_blank">documentation site</a> that is around 90% done. I’m still very much in the early stages of development, but if I keep obsessing over perfection, it’ll never be released. So it’s time to kick this baby bird out of the nest and hope it doesn’t fall to its death.</p>
<p>Where did this thing come from?</p>
<p>I have recently taken a liking to mathematical finance. (To the extent that I now listen to finance-oriented podcasts and pay some attention to the markets. I know—as a recovering pure mathematician, I feel gross just saying that. No offense finance people.) The issue is, that I come from a <em>very</em> different mathematical upbringing, so I knew next to nothing about the deeper parts of stochastic process theory, stochastic calculus, and all that stuff. So, as I’m grinding my way through some textbooks playing catch-up, I found myself wanting to experiment with code, but I couldn’t find any libraries that implemented the concepts in a way that felt natural and mathematically faithful. There’s a really big jump between, say, a <span class="math inline">\(\sigma\)</span>-algebra that you manipulate in your head and push around on a sheet of paper, and the code that implements it using existing Python libraries. Sure, you can perform a <code>group_by</code> on a <code>pd.DataFrame</code> that will partition your “sample space” into the “atoms” of your <span class="math inline">\(\sigma\)</span>-algebra, but I wanted a semantically meaningful API that <em>feels</em> like you’re writing mathematics on paper. That leads us here. I give you SigAlg.</p>
<hr>
<p>I will introduce you to SigAlg in this post, which is mostly an extended version of the random walk example on the landing page of the <a href="https://johnmyers-phd.com/sigalg/" target="_blank">documentation site</a>. Future blog posts will cover more advanced topics.</p>
</section>
<section id="generalities-on-stochastic-processes" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="generalities-on-stochastic-processes">Generalities on stochastic processes</h2>
<p>First, before any code, let’s make sure we agree on definitions and terminology. Allow me to put on my math professor hat.</p>
<p>Given a nonempty set <span class="math inline">\(T\subset \mathbb{R}\)</span>, our definition of a stochastic process requires us to consider the function space <span class="math inline">\(\mathbb{R}^T\)</span>, which consists of all <span class="math inline">\(\mathbb{R}\)</span>-valued functions on <span class="math inline">\(T\)</span>.</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div id="def-stochastic-process" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1</strong></span> Let <span class="math inline">\(\Omega\)</span> be a probability space and let <span class="math inline">\(T\subset \mathbb{R}\)</span> be a nonempty subset. A <em>stochastic process</em>, with index set <span class="math inline">\(T\)</span>, is a function</p>
<p><span class="math display">\[
X: \Omega \to U
\]</span></p>
<p>where <span class="math inline">\(U\)</span> is a subset of the function space <span class="math inline">\(\mathbb{R}^T\)</span>. We require <span class="math inline">\(X\)</span> be such that, for each <span class="math inline">\(t \in T\)</span>, the function <span class="math display">\[
X_t : \Omega \to \mathbb{R}, \quad \omega \mapsto X(\omega)(t),
\]</span></p>
<p> is a random variable on <span class="math inline">\(\Omega\)</span>.</p>
</div>
</div>
</div>
</div>
<div class="no-row-height column-margin column-container"><span class="margin-aside callout-margin-content callout-margin-content-simple">The requirement that “<span class="math inline">\(X_t\)</span> is a random variable” means that <span class="math inline">\(X_t\)</span> is a measurable function with respect to the Borel algebra on <span class="math inline">\(\mathbb{R}\)</span> and the given <span class="math inline">\(\sigma\)</span>-algebra on <span class="math inline">\(\Omega\)</span>. If this makes sense, then good—if not, the reader can simply ignore this technical detail.</span></div><p>The index set <span class="math inline">\(T\)</span> is often conceptualized as <em>time</em>, and when <span class="math inline">\(T\)</span> is countable we say that <span class="math inline">\(X\)</span> is a <em>discrete-time</em> stochastic process, while when <span class="math inline">\(T\)</span> is an interval in <span class="math inline">\(\mathbb{R}\)</span> (or <span class="math inline">\(\mathbb{R}\)</span> itself) we say that <span class="math inline">\(X\)</span> is a <em>continuous-time</em> stochastic process. Similarly, if each random variable <span class="math inline">\(X_t\)</span> is discrete, we say that <span class="math inline">\(X\)</span> is a <em>discrete-state</em> stochastic process, while if each <span class="math inline">\(X_t\)</span> is continuous, we say that <span class="math inline">\(X\)</span> is a <em>continuous-state</em> stochastic process.</p>
<p>Note that a stochastic process <span class="math inline">\(X\)</span> and the collection of random variables <span class="math inline">\(\{X_t\}_{t\in T}\)</span> that it determines are equivalent objects. To be more precise, note that obviously <span class="math inline">\(X\)</span> determines each random variable <span class="math inline">\(X_t\)</span>, but conversely, given a collection of random variables <span class="math inline">\(\{X_t\}_{t\in T}\)</span>, we can construct a stochastic process <span class="math inline">\(X\)</span> via the formula</p>
<p><span class="math display">\[
X(\omega)(t) = X_t(\omega), \quad \forall t \in T, \ \omega \in \Omega.
\]</span></p>
<p>Fixing <span class="math inline">\(\omega\in \Omega\)</span>, the function</p>
<p><span class="math display">\[
X(\omega) : T \to \mathbb{R}
\]</span></p>
<p>is called a <em>trajectory</em> (or <em>sample path</em>) of the stochastic process. It is these trajectories that are often the central objects of study in applications of stochastic processes.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">Technically, in order for the law of <span class="math inline">\(X\)</span> to be well-defined, <span class="math inline">\(X\)</span> needs to be a measurable function with respect to a <span class="math inline">\(\sigma\)</span>-algebra on <span class="math inline">\(U\)</span>. This is indeed the case. See, for example, Lemma 4.1 in <span class="citation" data-cites="Kallenberg2021">[<a href="#ref-Kallenberg2021" role="doc-biblioref">1</a>]</span>.</span></div></div>
<p>If <span class="math inline">\(X: \Omega \to U\)</span> is a random variable as in the definition above, and if <span class="math inline">\(P\)</span> is the probability measure on <span class="math inline">\(\Omega\)</span>, then <span class="math inline">\(X\)</span> has a well-defined <em>law</em>, which is a probability measure <span class="math inline">\(P_X\)</span> on <span class="math inline">\(U\)</span> given by</p>
<p><span id="eq-big-law"><span class="math display">\[
P_X(A) \stackrel{\text{def}}{=} P(X\in A),
\tag{1}\]</span></span></p>
<p>for all measurable sets <span class="math inline">\(A \subset U\)</span>. It is an important fact (see Proposition 4.2 in <span class="citation" data-cites="Kallenberg2021">[<a href="#ref-Kallenberg2021" role="doc-biblioref">1</a>]</span>) that this law is uniquely determined by the <em>finite-dimensional distributions</em> of <span class="math inline">\(X\)</span>, which are the probability measures on <span class="math inline">\(\mathbb{R}^n\)</span> of the form</p>
<p><span class="math display">\[
P_{X_{t_1}, \ldots, X_{t_n}}(B) \stackrel{\text{def}}{=} P\big((X_{t_1}, \ldots, X_{t_n}) \in B\big),
\]</span></p>
<p>where <span class="math inline">\(n\)</span> ranges over all positive integers, <span class="math inline">\(t_1, \ldots, t_n\)</span> range over all indices in <span class="math inline">\(T\)</span>, and <span class="math inline">\(B\subset \mathbb{R}^n\)</span> is a Borel set. Note that these are the laws of the random vectors</p>
<p><span class="math display">\[
\Omega\to \mathbb{R}^n, \quad \omega \mapsto (X_{t_1}(\omega), \ldots, X_{t_n}(\omega)).
\]</span></p>
<p>Specializing this fact, in the case of a finite index set <span class="math inline">\(T = \{t_1, \ldots, t_n\}\)</span>, we conclude that the law (<a href="#eq-big-law" class="quarto-xref">1</a>) of <span class="math inline">\(X\)</span> is completely determined by the (single!) random vector <span class="math inline">\((X_{t_1}, \ldots, X_{t_n})\)</span>, since all the other finite-dimensional distributions can be obtained by marginalizing the law of this one.</p>
</section>
<section id="independent-and-identically-distributed-processes" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="independent-and-identically-distributed-processes">Independent and identically distributed processes</h2>
<p>After all the generalities and abstractions in the previous section, we now bring everything down to earth and discuss what might be the simplest examples of stochastic processes:</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div id="def-iid" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2</strong></span> Let <span class="math inline">\(X:\Omega \to U \subset \mathbb{R}^T\)</span> be a <span class="math inline">\(T\)</span>-indexed stochastic process on a probability space <span class="math inline">\(\Omega\)</span>. Then <span class="math inline">\(X\)</span> is called an <em>independent and identically distributed (IID) process</em> if the random variables <span class="math inline">\(\{X_t\}_{t\in T}\)</span> are independent and identically distributed.</p>
</div>
</div>
</div>
</div>
<p>The finite-dimensional distributions of an IID process are given by the formula</p>
<p><span id="eq-iid-prob"><span class="math display">\[
P_{X_{t_1}, \ldots, X_{t_n}}(B) = \prod_{i=1}^n P(X_{t_i} \in B_i),
\tag{2}\]</span></span></p>
<p>where we assume <span class="math inline">\(B = B_1 \times \cdots \times B_n \subset \mathbb{R}^n\)</span> is a product of Borel sets.</p>
<p>A simple example of an IID process is a sequence of Bernoulli random variables indexed by a finite set <span class="math inline">\(T = \{1,2,\ldots,n\}\)</span>, which can be used to model a sequence of <span class="math inline">\(n\)</span> coin flips where <span class="math inline">\(X_t = 1\)</span> represents heads and <span class="math inline">\(X_t = 0\)</span> represents tails on the <span class="math inline">\(t\)</span>-th flip. Such a process can be implemented using the SigAlg library and its interface with SciPy:</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">In constructing the <code>Time</code> instance <code>T</code> modeling the index set <span class="math inline">\(T = \{1,2,3\}\)</span>, note that the <code>length</code> parameter is <code>2</code>, which is the length of <strong>time</strong> spanned by the interval from <code>1</code> to <code>3</code>. In particular, the <code>length</code> parameter is <strong>not</strong> the length in the sense of the Python magic method <code>len()</code>, which would return the number of time points, <code>3</code>.</span></div></div>
<div id="b35d46b3" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> bernoulli</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sigalg.core <span class="im">import</span> Time</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sigalg.processes <span class="im">import</span> IIDProcess</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct time index [1, 2, 3]. See the aside in the margin ---&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> Time.discrete(start<span class="op">=</span><span class="dv">1</span>, length<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the parameters for the IID process</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> IIDProcess(</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    distribution<span class="op">=</span>bernoulli(p<span class="op">=</span><span class="fl">0.7</span>),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    support<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>],</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    time<span class="op">=</span>T,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate all possible trajectories</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>X.from_enumeration()</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(X)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Stochastic process 'X':
time        1  2  3
trajectory         
0           0  0  0
1           0  0  1
2           0  1  0
3           0  1  1
4           1  0  0
5           1  0  1
6           1  1  0
7           1  1  1</code></pre>
</div>
</div>
<p>The printout shows an IID process <span class="math inline">\(X\)</span> on the index set <span class="math inline">\(T = \{1,2,3\}\)</span>, where each <span class="math inline">\(X_t\sim \mathcal{B}er(0.7)\)</span> is a Bernoulli random variable with parameter <span class="math inline">\(p=0.7\)</span>. The three time-indexed columns correspond to the values of the three random variables <span class="math inline">\(X_1, X_2, X_3\)</span>. SigAlg models the domain <span class="math inline">\(\Omega\)</span> as the trajectory indices, so <span class="math inline">\(\Omega = \{0,1,\ldots,7\}\)</span>. This may be verified by checking the <code>domain</code> attribute of our process:</p>
<div id="8a1c9eaa" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(X.domain)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sample space 'Omega':
[0, 1, 2, 3, 4, 5, 6, 7]</code></pre>
</div>
</div>
<p>Thus, the rows of the printout may be conceptualized as the trajectories</p>
<p><span class="math display">\[
X(\omega) = (X_1(\omega), X_2(\omega), X_3(\omega)) \in \{0,1\}^3
\]</span></p>
<p>as <span class="math inline">\(\omega\)</span> ranges over the domain <span class="math inline">\(\Omega = \{0,1,\ldots,7\}\)</span>. Since each <span class="math inline">\(X_t\)</span> has only two possible outcomes, the entire process has <span class="math inline">\(2^3 = 8\)</span> possible trajectories, all being listed in the printout.</p>
<p>Each trajectory of the process has a probability computed via the formula (<a href="#eq-iid-prob" class="quarto-xref">2</a>) above. For example, for the trajectory <span class="math inline">\(X(3)=(0,1,1)\)</span> we have</p>
<p><span class="math display">\[
P_X\big( (0, 1,1) \big) = P(X_1 = 0) P(X_2 = 1) P(X_3 = 1) = 0.3 \cdot 0.7^2 = 0.147.
\]</span></p>
<p>The probabilities of each trajectory can be accessed via the <code>probability_measure</code> attribute of the process. In this printout, note that trajectory <code>3</code> does indeed have the correct probability:</p>
<div id="27dad753" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>P_X <span class="op">=</span> X.probability_measure.with_name(<span class="st">"P_X"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(P_X)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Probability measure 'P_X':
            probability
trajectory             
0                 0.027
1                 0.063
2                 0.063
3                 0.147
4                 0.063
5                 0.147
6                 0.147
7                 0.343</code></pre>
</div>
</div>
<p>Technically, the domain <span class="math inline">\(\Omega\)</span> is supposed to have a <span class="math inline">\(\sigma\)</span>-algebra with respect to which the process <span class="math inline">\(X\)</span> is measurable, but this is <em>not</em> enforced in SigAlg. However, <span class="math inline">\(\Omega\)</span> does have the <em>natural filtration</em> induced by <span class="math inline">\(X\)</span>, which <em>is</em> modeled in SigAlg. In our case, this filtration is a nested sequence of <span class="math inline">\(\sigma\)</span>-algebras</p>
<p><span class="math display">\[
\mathcal{F}_1 \subset \mathcal{F}_2 \subset \mathcal{F}_3
\]</span></p>
<p>where</p>
<p><span class="math display">\[
\mathcal{F}_t = \sigma(X_1, X_2, \ldots, X_t), \quad t = 1,2,3,
\]</span></p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="margin-aside">In general, a containment <span class="math inline">\(\mathcal{F}\subset \mathcal{G}\)</span> of <span class="math inline">\(\sigma\)</span>-algebras on a common (finite!) sample space <span class="math inline">\(\Omega\)</span> is equivalent to the statement that every atom of <span class="math inline">\(\mathcal{F}\)</span> is a union of atoms of <span class="math inline">\(\mathcal{G}\)</span>, which, in turn, is the same as saying that every atom of <span class="math inline">\(\mathcal{G}\)</span> is a subset of some atom of <span class="math inline">\(\mathcal{F}\)</span>. In the present case, the reader will <em>see</em> this relationship in the “information flow” diagram below.</span></div></div>
<p>is the <span class="math inline">\(\sigma\)</span>-algebra generated by the random vector <span class="math inline">\((X_1, X_2, \ldots, X_t)\)</span>. This is the coarest <span class="math inline">\(\sigma\)</span>-algebra with respect to which <span class="math inline">\(X_1, X_2, \ldots, X_t\)</span> are all measurable. But, since <span class="math inline">\(\Omega\)</span> is finite, <span class="math inline">\(\sigma\)</span>-algebras can be completely described in terms of their <em>atoms</em>, which are the minimal non-empty sets in the <span class="math inline">\(\sigma\)</span>-algebra (and which partition <span class="math inline">\(\Omega\)</span>). The atoms of the <span class="math inline">\(\sigma\)</span>-algebra <span class="math inline">\(\mathcal{F}_t\)</span> are simply the level sets of the random vector <span class="math inline">\((X_1,X_2,\ldots,X_t)\)</span> as a function on <span class="math inline">\(\Omega\)</span>.</p>
<p>In SigAlg, <span class="math inline">\(\sigma\)</span>-algebras are stored internally by associating to each sample point <span class="math inline">\(\omega\in \Omega\)</span> an atom identifier that specifies which atom the sample point belongs to. Since the atoms of the <span class="math inline">\(\sigma\)</span>-algebras <span class="math inline">\(\mathcal{F}_t\)</span> are the level sets of <span class="math inline">\((X_1,X_2,\ldots,X_t)\)</span>, a convenient set of atom IDs are the <em>values</em> of these random vectors themselves.</p>
<p>For example, here are the atom IDs of <span class="math inline">\(\mathcal{F}_1\)</span>:</p>
<div id="0ed4c60e" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the natural filtration</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>F <span class="op">=</span> X.natural_filtration</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Grab the F1 sigma-algebra</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>F1 <span class="op">=</span> F[<span class="dv">1</span>]</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the atom IDs alongside the process data.</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Almost all objects in SigAlg have `data` attributes that return Pandas objects.</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>display_df <span class="op">=</span> pd.concat([X.data, F1.data.rename(<span class="st">"F1 atom ID"</span>)], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(display_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>            1  2  3  F1 atom ID
trajectory                     
0           0  0  0           0
1           0  0  1           0
2           0  1  0           0
3           0  1  1           0
4           1  0  0           1
5           1  0  1           1
6           1  1  0           1
7           1  1  1           1</code></pre>
</div>
</div>
<p>Indeed, notice that the atom IDs are simply the values of the random variable <span class="math inline">\(X_1(\omega)\in \{0,1\}\)</span>, as <span class="math inline">\(\omega\)</span> ranges over <span class="math inline">\(\Omega = \{0,1,\ldots,7\}\)</span>.</p>
<p>Here are the atom IDs of <span class="math inline">\(\mathcal{F}_2\)</span>:</p>
<div id="aaf28230" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>F2 <span class="op">=</span> F[<span class="dv">2</span>]</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>display_df <span class="op">=</span> pd.concat([display_df, F2.data.rename(<span class="st">"F2 atom ID"</span>)], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(display_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>            1  2  3  F1 atom ID F2 atom ID
trajectory                                
0           0  0  0           0     (0, 0)
1           0  0  1           0     (0, 0)
2           0  1  0           0     (0, 1)
3           0  1  1           0     (0, 1)
4           1  0  0           1     (1, 0)
5           1  0  1           1     (1, 0)
6           1  1  0           1     (1, 1)
7           1  1  1           1     (1, 1)</code></pre>
</div>
</div>
<p>Again, note that the atom IDs are the values of the random vector <span class="math inline">\((X_1,X_2)\)</span>, as <span class="math inline">\(\omega\)</span> ranges over <span class="math inline">\(\Omega = \{0,1,\ldots,7\}\)</span>.</p>
<p>For the third <span class="math inline">\(\sigma\)</span>-algebra <span class="math inline">\(\mathcal{F}_3\)</span>, we have:</p>
<div id="8f40d0b5" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>F3 <span class="op">=</span> F[<span class="dv">3</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>display_df <span class="op">=</span> pd.concat([display_df, F3.data.rename(<span class="st">"F3 atom ID"</span>)], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(display_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>            1  2  3  F1 atom ID F2 atom ID F3 atom ID
trajectory                                           
0           0  0  0           0     (0, 0)  (0, 0, 0)
1           0  0  1           0     (0, 0)  (0, 0, 1)
2           0  1  0           0     (0, 1)  (0, 1, 0)
3           0  1  1           0     (0, 1)  (0, 1, 1)
4           1  0  0           1     (1, 0)  (1, 0, 0)
5           1  0  1           1     (1, 0)  (1, 0, 1)
6           1  1  0           1     (1, 1)  (1, 1, 0)
7           1  1  1           1     (1, 1)  (1, 1, 1)</code></pre>
</div>
</div>
<p>In this last case, note that each <span class="math inline">\(\omega\)</span> has its own unique atom ID, which means that the <span class="math inline">\(\sigma\)</span>-algebra <span class="math inline">\(\mathcal{F}_3\)</span> is the power set on <span class="math inline">\(\Omega\)</span>, i.e., the finest <span class="math inline">\(\sigma\)</span>-algebra on <span class="math inline">\(\Omega\)</span>.</p>
<p>In probability theory, these filtrations (increasing sequences of <span class="math inline">\(\sigma\)</span>-algebras) are intended to model “refinements of information” available to an observer over time. For our current IID process <span class="math inline">\(X\)</span>, the natural filtration might have the following concrete information-theoretic interpretation: Suppose that each <span class="math inline">\(X_t\)</span> (for <span class="math inline">\(t=1,2,3\)</span>) does indeed model the outcome of a (biased) coin flip, with <span class="math inline">\(X_t=0\)</span> representing a tail, and <span class="math inline">\(X_t=1\)</span> a head on the <span class="math inline">\(t\)</span>-th flip. Now, suppose that all three flips have occured, so that a definite trajectory <span class="math inline">\(X(\omega)\)</span> of the process has been identified, which is the same as saying that a definite sample point <span class="math inline">\(\omega\)</span> has been identified, since the sample points and their trajectories are in one-to-one correspondence.</p>
<p>However, suppose that our observer does not yet know which <span class="math inline">\(\omega\)</span> has been realized, and its true value is only progressively revealed over time, flip by flip.</p>
<p>At time <span class="math inline">\(t=1\)</span>, the observer sees the result of the first flip, <span class="math inline">\(X_1(\omega)\)</span>. With this information, the observer would be able to identify which of the two atoms of <span class="math inline">\(\mathcal{F}_1\)</span> contains the sample point <span class="math inline">\(\omega\)</span>. And conversely, if the observer knew which of these atoms contained <span class="math inline">\(\omega\)</span>, then the observer would also know the value of <span class="math inline">\(X_1(\omega)\)</span>. So, in this sense, the information contained in knowledge of the value <span class="math inline">\(X_1(\omega)\)</span> is equally well contained in the <span class="math inline">\(\sigma\)</span>-algebra <span class="math inline">\(\mathcal{F}_1\)</span>.</p>
<p>Note that while this information reduces <em>some</em> uncertainty about the identity of <span class="math inline">\(\omega\)</span>, it does not reduce all of it. For within each atom of <span class="math inline">\(\mathcal{F}_1\)</span>, the differenent trajectories <span class="math inline">\(X(\omega)\)</span> are indistinguishable, given only the information in <span class="math inline">\(\mathcal{F}_1\)</span>.</p>
<p>Now, at time <span class="math inline">\(t=2\)</span>, the observer sees the result of the second flip, <span class="math inline">\(X_2(\omega)\)</span>. With this additional information, combined with knowledge of the first flip, the observer would be able to identify which of the four atoms of <span class="math inline">\(\mathcal{F}_2\)</span> contains the sample point <span class="math inline">\(\omega\)</span>. But again, while this reduces more of the uncertainty about <span class="math inline">\(\omega\)</span>, it does not eliminate it entirely, for the observer still cannot distinguish between the trajectories <span class="math inline">\(X(\omega)\)</span> within each of the four atoms of <span class="math inline">\(\mathcal{F}_2\)</span>, given only the information in <span class="math inline">\(\mathcal{F}_2\)</span>.</p>
<p>Finally, at time <span class="math inline">\(t=3\)</span>, the observer sees the result of the third flip, <span class="math inline">\(X_3(\omega)\)</span>. As in the previous two cases, with this new information, the observer can identify which of the eight atoms of <span class="math inline">\(\mathcal{F}_3\)</span> contains the sample point <span class="math inline">\(\omega\)</span>. But since <span class="math inline">\(\mathcal{F}_3\)</span> is the power set, this amounts to complete information on <span class="math inline">\(\omega\)</span>. The trajectory <span class="math inline">\(X(\omega)\)</span> is now fully determined.</p>
<p>This “flow” of information, refining the observer’s knowledge over time, is precisely what a filtration models. This flow can be visualized through SigAlg’s interface with Plotly, to create a Sankey-style figure:</p>
<div id="22d7271a" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># These two lines are only necessary to render in Quarto markdown.</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The reader may remove them.</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.io <span class="im">as</span> pio</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>pio.renderers.default <span class="op">=</span> <span class="st">"plotly_mimetype+notebook_connected"</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sigalg.core <span class="im">import</span> plot_information_flow</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Reusable plotting parameters</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>plot_config <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    node_color<span class="op">=</span><span class="st">"#FFC300"</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    font_color<span class="op">=</span><span class="st">"#FAF9F6"</span>,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    link_color<span class="op">=</span><span class="st">"rgba(168, 165, 159, 0.5)"</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    background_color<span class="op">=</span><span class="st">"#121212"</span>,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    font_family<span class="op">=</span><span class="st">"monospace"</span>,</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plot_information_flow(</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    filtration<span class="op">=</span>F,</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Natural filtration of 'X'"</span>,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    show_atom_counts<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">**</span>plot_config,</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.1.min.js" integrity="sha256-4rD3fugVb/nVJYUv5Ky3v+fYXoouHaBSP20WIJuEiWg=" crossorigin="anonymous"></script>                <div id="ce9bbfd6-1416-4462-ae9f-532725fb8aad" class="plotly-graph-div" style="height:400px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("ce9bbfd6-1416-4462-ae9f-532725fb8aad")) {                    Plotly.newPlot(                        "ce9bbfd6-1416-4462-ae9f-532725fb8aad",                        [{"link":{"color":"rgba(168, 165, 159, 0.5)","hoverinfo":"skip","source":[0,0,1,1,2,2,3,3,4,4,5,5],"target":[2,3,4,5,6,7,8,9,10,11,12,13],"value":[2,2,2,2,1,1,1,1,1,1,1,1]},"node":{"color":"#FFC300","hoverinfo":"skip","label":["Atom 0","Atom 1","Atom (0, 0)","Atom (0, 1)","Atom (1, 0)","Atom (1, 1)","Atom (0, 0, 0)","Atom (0, 0, 1)","Atom (0, 1, 0)","Atom (0, 1, 1)","Atom (1, 0, 0)","Atom (1, 0, 1)","Atom (1, 1, 0)","Atom (1, 1, 1)"],"line":{"color":"black","width":2}},"type":"sankey"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"margin":{"t":40,"b":80,"l":40,"r":40},"font":{"family":"monospace","size":14,"color":"#FAF9F6"},"title":{"font":{"family":"monospace","size":20,"color":"#FAF9F6"},"text":"Natural filtration of 'X'"},"height":400,"paper_bgcolor":"#121212","plot_bgcolor":"#121212","annotations":[{"font":{"color":"#FAF9F6","family":"monospace","size":16},"showarrow":false,"text":"t=1","x":0.0,"xanchor":"center","xref":"paper","y":-0.15,"yref":"paper"},{"font":{"color":"#FAF9F6","family":"monospace","size":16},"showarrow":false,"text":"t=2","x":0.5,"xanchor":"center","xref":"paper","y":-0.15,"yref":"paper"},{"font":{"color":"#FAF9F6","family":"monospace","size":16},"showarrow":false,"text":"t=3","x":1.0,"xanchor":"center","xref":"paper","y":-0.15,"yref":"paper"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('ce9bbfd6-1416-4462-ae9f-532725fb8aad');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<p>As we read the figure from left to right through time, notice that each atom is split into a union of atoms in the next <span class="math inline">\(\sigma\)</span>-algebra. This illustrates how the observer’s knowledge is refined over time as more information becomes available. If earlier atoms were <em>not</em> unions of later atoms, then one of the containments <span class="math inline">\(\mathcal{F}_1 \subset \mathcal{F}_2\)</span> or <span class="math inline">\(\mathcal{F}_2 \subset \mathcal{F}_3\)</span> would be violated, which means that the three <span class="math inline">\(\sigma\)</span>-algebras would not form a filtration. (Recall the most recent margin note above.)</p>
<p>The trajectories of our process <span class="math inline">\(X\)</span> are short. Longer trajectories can be generated by increasing the <code>length</code> parameter in the <code>Time</code> instance, though care must be taken since the number of possible trajectories grows exponentially with the length of the trajectories. For long trajectories, it is often more practical to work with Monte Carlo simulations rather than exhaustive enumerations. In the next code block, we simulate a single trajectory of length 100 from the same IID Bernoulli process above and plot it:</p>
<div id="0388d51c" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The reader may remove this line, or set their own custom style</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">"../../aux-files/custom-theme.mplstyle"</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the time index of the process to a longer length</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> Time.discrete(start<span class="op">=</span><span class="dv">1</span>, length<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>X.time <span class="op">=</span> T</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulate a single trajectory</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>X.from_simulation(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    n_trajectories<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    random_state<span class="op">=</span><span class="dv">42</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the trajectory</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>_, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">2</span>))</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>X.plot_trajectories(ax<span class="op">=</span>ax)</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/cell-9-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="621" height="252"></p>
</figure>
</div>
</div>
</div>
<p>The trajectory is plotted by first plotting the points <span class="math inline">\((t, X_t)\)</span> for each time <span class="math inline">\(t=1,2,\ldots,101\)</span>, and then connecting these points with lines for visual clarity.</p>
</section>
<section id="random-walks" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="random-walks">Random walks</h2>
<p>With IID processes as building blocks, we can construct more complex stochastic processes such as random walks.</p>
<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<div id="def-random-walk" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 3</strong></span> Let <span class="math inline">\(p\)</span> be a real number with <span class="math inline">\(0\leq p \leq 1\)</span>, let <span class="math inline">\(x_0\)</span> and <span class="math inline">\(t_0\)</span> be integers, and let</p>
<p><span class="math display">\[
T = \{t_0, t_0+1, t_0+2, \ldots, t_0 + n\},
\]</span></p>
<p>where <span class="math inline">\(n\)</span> is either a positive integer or <span class="math inline">\(\infty\)</span>. Then a <em>random walk</em> of length <span class="math inline">\(n\)</span>, with initial position <span class="math inline">\(x_0\)</span> and initial time <span class="math inline">\(t_0\)</span>, is a stochastic process <span class="math inline">\(X\)</span> with the following properties:</p>
<ol type="1">
<li>We have <span class="math inline">\(X_{t_0}=x_0\)</span>, the constant random variable.</li>
<li>The <em>increments</em> <span class="math display">\[
\Delta X_t \stackrel{\text{def}}{=} X_t - X_{t-1}, \quad t \in T, \ t\neq t_0,
\]</span> are IID random variables.</li>
<li>Each increment <span class="math inline">\(\Delta X_t\)</span> takes either the value <span class="math inline">\(1\)</span> or <span class="math inline">\(-1\)</span>, the former with probability <span class="math inline">\(p\)</span> and the latter with probability <span class="math inline">\(q=1-p\)</span>.</li>
</ol>
</div>
</div>
</div>
</div>
<p>When <span class="math inline">\(p\neq 0.5\)</span>, the random walk is said to have <em>drift</em>, which we will discuss in more detail below. If <span class="math inline">\(p=0.5\)</span>, the random walk is said to be <em>symmetric</em>.</p>
<p>The reason for the name “random walk” is that each trajectory <span class="math inline">\(X(\omega)\)</span> can be visualized as a path on the integer number line starting at <span class="math inline">\(x_0\)</span>, where at each discrete time <span class="math inline">\(t\)</span> a step is taken that moves either one unit to the right (when <span class="math inline">\(\Delta X_t=1\)</span>, with probability <span class="math inline">\(p\)</span>) or one unit to the left (when <span class="math inline">\(\Delta X_t=-1\)</span>, with probability <span class="math inline">\(q\)</span>). Over many steps, this results in a “wandering” behavior that resembles a random walk. The random variable <span class="math inline">\(X_t\)</span> represents the position of the walk after <span class="math inline">\(t\)</span> steps.</p>
<p>The SigAlg library provides the <code>RandomWalk</code> class to model these processes, but it is instructive to build a random walk from scratch using the IID processes in the previous section. To do this, note that each <span class="math inline">\(X_t\)</span> is the cumulative sum of the increments up to time <span class="math inline">\(t\)</span>, plus the initial state <span class="math inline">\(X_{t_0} = x_0\)</span>:</p>
<div class="page-columns page-full"><p><span class="math display">\[
X_t = X_{t_0} + \sum_{s=t_0+1}^t \Delta X_s.
\]</span> </p><div class="no-row-height column-margin column-container"><span class="margin-aside">Notice the formal similarity between this equation and the the Fundamental Theorem of Calculus: <span class="math display">\[f(t) = f(t_0) + \int_{t_0}^tdf(s),\]</span> where we write <span class="math inline">\(df(s) = f'(s) \, ds\)</span>.</span></div></div>
<p>Thus, by modeling the increments <span class="math inline">\(\Delta X_t\)</span> in SigAlg as an IID process, we can model a random walk <span class="math inline">\(X\)</span> as the cumulative sum of these increments plus the starting point <span class="math inline">\(x_0\)</span>.</p>
<p>To begin, let’s suppose we want to model a random walk of length <span class="math inline">\(n=10\)</span>, with initial position <span class="math inline">\(x_0=0\)</span>, with initial time <span class="math inline">\(t_0=0\)</span>, and with probability <span class="math inline">\(p=0.7\)</span> of stepping “to the right.” Then, note that</p>
<p><span class="math display">\[
\Delta X_t = 2B_t -1
\]</span></p>
<p>for <span class="math inline">\(1 \leq t \leq 10\)</span>, where <span class="math inline">\(B_t \sim \mathcal{B}er(0.7)\)</span>. Thus, in SigAlg, we write:</p>
<div id="d74d4188" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sigalg.core <span class="im">import</span> RandomVariable</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The increments start at time t=1 and stop at t=10</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> Time.discrete(start<span class="op">=</span><span class="dv">1</span>, stop<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the IID Bernoulli process</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> IIDProcess(</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    distribution<span class="op">=</span>bernoulli(p<span class="op">=</span><span class="fl">0.7</span>),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    time<span class="op">=</span>T,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">"B"</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>).from_simulation(</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    n_trajectories<span class="op">=</span><span class="dv">10</span>,</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    random_state<span class="op">=</span><span class="dv">42</span>,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct the increment process</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>Delta_X <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> B <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct the random walk process by cumulative summation</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> Delta_X.cumsum().with_name(<span class="st">"X"</span>)</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert the initial state</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>X.insert_rv(state<span class="op">=</span><span class="dv">0</span>, time<span class="op">=</span><span class="dv">0</span>, in_place<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(X)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Stochastic process 'X':
time        0   1   2   3   4   5   6   7   8   9   10
trajectory                                            
0            0  -1   0  -1   0   1   0  -1  -2  -1   0
1            0   1   0   1   0   1   2   3   4   3   4
2            0  -1   0  -1  -2  -3  -2  -1   0   1   2
3            0  -1  -2  -1   0   1   2   3   4   5   6
4            0   1   0  -1   0  -1  -2  -1   0   1   2
5            0   1   2   1   2   1   0   1   2   3   4
6            0   1   2   3   2   3   4   5   6   7   8
7            0   1   2   1   2   3   4   5   6   7   6
8            0   1   2   1   2   3   4   3   4   5   6
9            0   1   2   3   4   5   6   7   8   9   8</code></pre>
</div>
</div>
<p>We have simulated ten trajectories of the random walk. We see that the final position of trajectory <code>3</code> is <code>6</code>, while the final position of trajectory <code>9</code> is <code>8</code>. A plot of these simulated trajectories is shown below:</p>
<div id="6adf8a77" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>yellow <span class="op">=</span> <span class="st">"#FFC300"</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>_, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">3</span>))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>X.plot_trajectories(ax<span class="op">=</span>ax, colors<span class="op">=</span>[yellow], plot_kwargs<span class="op">=</span>{<span class="st">"alpha"</span>: <span class="fl">0.7</span>})</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/cell-11-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="622" height="329"></p>
</figure>
</div>
</div>
</div>
<p>Longer trajectories reveal the “drift” that we mentioned above. To make these longer trajectories, we use the built-in <code>RandomWalk</code> class in SigAlg, which (essentially) internally implements the same construction as above. The following code simulates ten trajectories of length 100 with the same parameters as our original random walk:</p>
<div id="920b94a4" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sigalg.processes <span class="im">import</span> RandomWalk</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> Time.discrete(length<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> RandomWalk(p<span class="op">=</span><span class="fl">0.7</span>, time<span class="op">=</span>T).from_simulation(</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    n_trajectories<span class="op">=</span><span class="dv">10</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    random_state<span class="op">=</span><span class="dv">42</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>_, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">4</span>))</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>X.plot_trajectories(ax<span class="op">=</span>ax, colors<span class="op">=</span>[yellow], plot_kwargs<span class="op">=</span>{<span class="st">"alpha"</span>: <span class="fl">0.7</span>})</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/cell-12-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="634" height="406"></p>
</figure>
</div>
</div>
</div>
<p>While random, it is evident that the trajectories tend to drift upwards over time, since the expected increment is positive:</p>
<p><span class="math display">\[
E(\Delta X_t) = 2E(B_t) - 1 = 2 \cdot 0.7 - 1 = 0.4 &gt; 0.
\]</span></p>
</section>
<section id="bibliography" class="level2">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Bibliography</h2><div id="refs" class="references csl-bib-body" data-entry-spacing="0" role="list">
<div id="ref-Kallenberg2021" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">Kallenberg, O., <em>Foundations of modern probability</em>, third, vol. 99, Probability theory and stochastic modelling, Springer, 2021.</div>
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/johnmyers-phd\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>